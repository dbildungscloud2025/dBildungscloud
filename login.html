<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gespeicherte Logins</title>
</head>
<body>

<h1>Gespeicherte Logins</h1>
<table id="loginsTable" border="1">
    <thead>
        <tr>
            <th>Nutzername</th>
            <th>Passwortstärke</th>
            <th>Timestamp</th>
        </tr>
    </thead>
    <tbody>
        <!-- Hier werden die Daten eingefügt -->
    </tbody>
</table>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.14.0/firebase-app.js";
import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.14.0/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyAxJCE8AELVQGZub1e-vBzcWxdn_2bveGw",
  authDomain: "dbildungscloud.firebaseapp.com",
  projectId: "dbildungscloud",
  storageBucket: "dbildungscloud.firebasestorage.app",
  messagingSenderId: "435869869232",
  appId: "1:435869869232:web:dcf44e91e625f5d786c775",
  databaseURL: "https://dbildungscloud-default-rtdb.europe-west1.firebasedatabase.app"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);
const tableBody = document.querySelector("#loginsTable tbody");
const loginsRef = ref(db, "alle_logins");

onValue(loginsRef, (snapshot) => {
    tableBody.innerHTML = ""; // alte Tabelle löschen
    const data = snapshot.val();
    if (data) {
        Object.values(data).forEach(entry => {
            const row = document.createElement("tr");
            row.innerHTML = `
                <td>${entry.name}</td>
                <td>${entry.passwortStaerke}</td>
                <td>${entry.timestamp}</td>
            `;
            tableBody.appendChild(row);
        });
    }
});
</script>

</body>
</html>
